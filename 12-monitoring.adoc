[[Monitoring]]
= Monitoring

[[monitoring]]
== Monitoring

log files

(top_output.log in /var/www/miq/vmdb/log) or the vmstat data (to be found in vmstat_output.log

=== Alerts

Some self-protection policies are available out-of-the-box in the form of alerts

[[i1]]
.EVM Monitoring Alerts
image::images/alerts.png[Screenshot,400,align="center"]
{zwsp} +




Cockpit?

Monitoring vmdb disk utilization
Monitor cpu utilization (steady state utilization approaching 80% suggests need to review implementation options for VMDB appliance and possibly region)
	◦	monitoring/reviewing policies for operational limits on a by-appliance basis
Review rates and reasons for worker restarts
Review top data for over committed or underutilized appliances
Review reporting appliances operations when periodic reports are active ( that is review the operational data from these appliances focusing on those times when reporting workers are busiest.
Review utilization of appliances with smartproxy active roles when scheduled scans are active
Review C&U data capture and processing for appliances with Performance monitoring (aka C&U or 'Capacity and Utilization') enabled
Review operation of appliances with event monitoring role enabled
Review Provider refresh activity and especially full refresh rates (how many full refreshes per day?  How long does a full refresh take by provider instance?)
* Are certain property changes causing too many refreshes?  Should additional properties be added to the exclude list?
Compare current operational values  with previous operational values (are there unexpected increases or decreases?)
	

Periodically review operation of all appliances in region
Review size of miq_queue events in ready state
Periodically review VMDB
* free space to project when 80% of filesystem will become filled
* review how used space is being consumed vs the rate at which it was expected to be consumed
Review VMs that can't/don't get scanned
Frequently (daily-to-weekly) review queue sizes
